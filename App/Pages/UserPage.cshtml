@page "/"
@model UserPageModel

<button id="loadUsersBtn" class="btn btn-primary">Load All Users</button>

<div id="usersContainer"  class="mt-2"></div>

<form id="getUserForm" class="mt-3">
    <div class="form-group">
        <label for="userId">User ID</label>
        <input type="number" id="userId" name="id" class="form-control" style="width:10%" required />
    </div>
    <button type="submit" class="btn btn-primary mt-2">Find</button>
</form>

<div id="userByIdContainer" class="mt-2"></div>

<button id="loadCategoriesBtn" class="btn btn-primary mt-3">Load All Categories</button>

<div id="AllCategoriesContainer" class="mt-2"></div>

<form id="getCategoryForm" class= "mt-3">
    <div class="form-group">
        <label for="categoryId">Category ID </label>
         <input type="number" id="categoryId" name="id" class="form-control" style="width:10%" required />
    </div>
    <button type="submit" class="btn btn-primary mt-2">Find</button>
</form>

<div id="categoryByIdContainer" class="mt-2"></div>

<form method="post" asp-page-handler="Logout">
    <button type="submit" class="btn btn-link">Log out</button>
</form>

@foreach (var category in Model.Categories)
{
    <button type="button" class="btn btn-outline-primary m-2 category-btn"
            data-category="@System.Text.Json.JsonSerializer.Serialize(category)">
        @category.Name
    </button>
}

@section Scripts {
    @await Html.PartialAsync("UserPage_Partials/AllUsersScripts")
    @await Html.PartialAsync("UserPage_Partials/UserByIdScripts")
    @await Html.PartialAsync("UserPage_Partials/AllCategoriesScripts")
    @await Html.PartialAsync("UserPage_Partials/CategoryByIdScripts")
    @await Html.PartialAsync("UserPage_Partials/CategoryScripts")
}
